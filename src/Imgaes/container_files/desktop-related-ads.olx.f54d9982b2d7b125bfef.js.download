(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{1039:function(e,t,i){"use strict";var a=i(38),s=i.n(a),n=i(132),r=i.n(n),o=i(133),c=i.n(o),l=i(134),d=i.n(l),m=i(135),p=i.n(m),u=i(137),h=i.n(u),g=i(136),v=i.n(g),f=i(41),w=i.n(f),b=i(0),E=i.n(b),_=i(9),I=i.n(_),y=i(53),k=i.n(y),O=i(185),C=i(294),T={"arrow-shrinked":"rui-7BCbt","icon-shrinked":"rui-3UBNp","disabled-shrinked":"rui-2d95M","arrow-expanded":"rui-1Quy6","icon-expanded":"rui-uHQRk","disabled-expanded":"rui-2R61q"},N=function(e){var t=e.type,i=e.icon,a=e.disabled,n=e.onClick,r=e.direction,o=k()(T["icon-".concat(t)],w()({},T["disabled-".concat(t)],a));return s()("div",{className:T["arrow-".concat(t)],onClick:n,onKeyPress:n,role:"button",tabIndex:"0"},void 0,s()("span",{className:o},void 0,s()(C.a,{color:a?"blackDisabled":"black",icon:i,size:24,direction:r})))};N.propTypes={icon:I.a.string.isRequired,type:O.a.isInArray(["","shrinked","expanded"]),onClick:I.a.func.isRequired,disabled:I.a.bool,direction:I.a.oneOf(["ltr","rtl"])},N.defaultProps={disabled:!1,type:"",direction:"ltr"};var j=N,S="rui-2j1de",x="rui-2qycU",L=function(e){function t(e){var i;return r()(this,t),i=d()(this,p()(t).call(this,e)),w()(h()(i),"componentDidMount",(function(){return i.handleScroll()})),w()(h()(i),"handleScroll",(function(){if(i.itemList.current){var e=i.itemList.current,t=e.scrollWidth,a=e.clientWidth,s=e.scrollLeft,n=i.props.direction;i.setState({showArrowLeft:"ltr"===n?0===s:a+s===t,showArrowRight:"ltr"===n?t<=Math.ceil(s+a):0===s})}})),w()(h()(i),"handleClickNext",(function(){return i.scroll("ltr"===i.props.direction?1:-1)})),w()(h()(i),"handleClickPrev",(function(){return i.scroll("ltr"===i.props.direction?-1:1)})),i.state={showArrowLeft:!0,showArrowRight:!0},i.itemList=E.a.createRef(),i}return v()(t,e),c()(t,[{key:"scroll",value:function(e){if(this.itemList.current){var t=this.itemList.current,i=e*t.clientWidth+t.scrollLeft;this.itemList.current.scrollLeft=i}}},{key:"render",value:function(){var e=this.props,t=e.arrow,i=e.children,a=e.direction;return s()("div",{className:S},void 0,t&&s()(j,{type:t,icon:"arrowLeft",disabled:this.state.showArrowLeft,onClick:this.handleClickPrev,direction:a}),E.a.createElement("div",{className:x,onScroll:this.handleScroll,ref:this.itemList},i),t&&s()(j,{type:t,icon:"arrowRight",disabled:this.state.showArrowRight,onClick:this.handleClickNext,direction:a}))}}]),t}(E.a.Component);w()(L,"propTypes",{children:I.a.node,arrow:I.a.string,steps:I.a.number,direction:I.a.oneOf(["ltr","rtl"])}),w()(L,"defaultProps",{classes:{},steps:0,children:[],direction:"ltr"});t.a=L},1171:function(e,t,i){e.exports={"rui-7BCbt":"rui-7BCbt","rui-3UBNp":"rui-3UBNp","rui-2d95M":"rui-2d95M","rui-1Quy6":"rui-1Quy6","rui-uHQRk":"rui-uHQRk","rui-2R61q":"rui-2R61q"}},1173:function(e,t,i){e.exports={"rui-2j1de":"rui-2j1de","rui-2qycU":"rui-2qycU"}},2689:function(e,t,i){e.exports={relatedAds:"_25vQF",cardContent:"_2C1ZX",title:"MgCi4",itemCard:"_21Q4B",arrowClass:"_1CYb_",borderNone:"_2KH4b"}},2803:function(e,t,i){"use strict";i.r(t),i.d(t,"RelatedAds",(function(){return x}));i(7);var a=i(3),s=i.n(a),n=(i(1090),i(0)),r=i.n(n),o=i(43),c=i(39),l=i(993),d=i.n(l),m=i(23),p=i(17),u=i(78),h=i(924),g=i(66),v=i(93),f=i(938),w=i(317),b=i(56),E=i(985),_=i(2689),I=i.n(_),y=(i(1171),i(183),i(182),i(1173),i(1039)),k=i(816);const O=e=>{let{children:t,direction:i}=e;return r.a.createElement(y.a,{arrow:"expanded",direction:i},t)};O.defaultProps={direction:"ltr"};var C=Object(k.b)(O),T=i(53),N=i.n(T);const{CAROUSEL_LISTING_RESULTS:j,CAROUSEL_VIEW_LISTING:S}=p.L;class x extends r.a.Component{constructor(e){var t;super(e),t=this,s()(this,"componentDidMount",()=>{const{recommendations:e}=this.props;e.length&&this.fireRelatedAdFetchEvent(e),this.getRecommendations()}),s()(this,"componentDidUpdate",e=>{const{recommendations:t}=this.props;t.length>0&&!d()(e.recommendations,this.props.recommendations)&&this.fireRelatedAdFetchEvent(t)}),s()(this,"componentWillUnmount",()=>{const{viewItems:e}=this.state,t=Object.keys(e).filter(t=>e[t]&&!1===e[t].isEventFired),i=t.map(t=>e[t].id);t.length>0&&this.fireViewAdsEvents(t,i)}),s()(this,"fireRelatedAdFetchEvent",e=>{const t=e.map(e=>{const{id:t,scoreFactor:i="null"}=e;return{adId:t,scoreFactor:i}});this.track(j,{result_count:e.length}),this.track(p.u,{impressions:t,resultset_type:u.v.RELATED,result_count:t.length})}),s()(this,"fireViewAdsEvents",(e,t)=>{const i={impressions:e,result_count:e.length,origin:w.a.ITEM_PAGE};this.track(S,i),this.track(p.cb,Object.assign({},i,{impressions:t,resultset_type:u.v.RELATED}))}),s()(this,"getRecommendations",()=>{const{item:e,loggedUser:t}=this.props,i=t&&t.id||"";this.props.getRecommendations(i,e.id,e.category_id)}),s()(this,"track",(function(e,i){void 0===i&&(i={});const{item:a,category:s,onTrack:n,recommendationMetaData:r,origin:o}=t.props,{feed_version:c="-",applied_filters:l=[]}=r,d={item_id:a.id,category_level2_id:s.id,category_level1_id:s.parent_id,resultset_type:p.e,feed_version:c,origin:o,filters:l};n(e,Object.assign({},d,i))})),s()(this,"onItemView",e=>{const{id:t,isFeatured:i,spell_id:a=0}=e;this.setState(e=>{const s=e.viewItems[t]&&e.viewItems[t].isEventFired||!1,n=Object.assign({},e.viewItems,{[t]:{id:(i?"T":"O")+a+":"+t,isEventFired:s}}),r=Object.keys(n).filter(e=>n[e]&&!1===n[e].isEventFired),o=r.map(e=>n[e].id);return r.length>=this.props.trackingChunk&&(this.fireViewAdsEvents(r,o),r.forEach(e=>{n[e].isEventFired=!0})),{viewItems:n}})}),this.state={viewItems:{}}}render(){const{recommendations:e,newADPV:t}=this.props,i=t?I.a.borderNone:"";return e&&!!e.length&&r.a.createElement("section",{className:N()(I.a.relatedAds,i)},r.a.createElement(E.a,{contentClassName:I.a.cardContent},r.a.createElement("div",{className:I.a.title},r.a.createElement("h3",null,r.a.createElement(m.FormattedMessage,{id:"itemRelatedAds"}))),r.a.createElement(C,null,this.props.recommendations.map((e,t)=>r.a.createElement(f.a,{key:e.id,item:e,chosenOption:t,friendsInCommon:!1,type:"public",visualizationType:"grid",showStatistics:!1,className:I.a.itemCard,listingType:"items",source:u.r.RELATED,onView:this.onItemView,enabledRealImpressions:!0})))))}}s()(x,"defaultProps",{recommendationMetaData:{},trackingChunk:20,loggedUser:{},origin:""});t.default=Object(c.compose)(b.a,Object(o.b)((e,t)=>({recommendations:Object(g.A)(e,t),category:Object(v.f)(e,t.item.category_id),recommendationMetaData:Object(g.z)(e,t),origin:e.track.origin}),e=>({getRecommendations:(t,i,a)=>e(Object(h.e)(t,i,a))})))(x)},881:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return n}));const a={ITEMS:"items",RE_PORJECTS:"reProjects"},s=100,n="#trust-tag-cars"},932:function(e,t,i){e.exports={bigItemCard:"_2VDJl",gridItemCard:"EIR5N",listItemCard:"_8HqL0",bottomCardInfo:"_1KOFM",date:"zLvFQ",blurry:"_3LlRU",resume:"IKo3_",price:"_89yzn",title:"_2tW1I",details:"_2TVI3",favorite:"_2awF2",new:"_1X63c",hot:"_3pSnB",sold:"_2ku78",outdated:"_3NtM8",rejected:"_2KosO",deleted:"W801C",modify:"_2PWYV",pending:"gfr3_",location:"tjgMj",favIcon:"_2LYp_",gridViewInspectedIcon:"_3XcQh",carInspectedImage:"j2681",status:"_2Vp0i",mainTitle:"_8WFAM",statistics:"_2k0a5",views:"_2qq2S",monetizer:"fhlkh",bigViewInspectedIcon:"_2-msB",favorites:"_2-ug5",listViewInspectedIcon:"_3DPAp"}},937:function(e,t,i){"use strict";i(64);var a=i(3),s=i.n(a),n=i(0),r=i.n(n),o=i(959),c=i.n(o),l=i(296),d=i(961),m=i.n(d);const p=e=>{let t=null;return e.loaded||(t=r.a.createElement("div",{className:""+m.a.imagePlaceholder},r.a.createElement("div",{className:m.a.image+" "+m.a.animatedBackground}))),r.a.createElement(r.a.Fragment,null,t,e.children)};p.defaultProps={loaded:!1};var u=p,h=i(836);var g=i(53),v=i.n(g),f=i(54);const{icons:w}=l.a;class b extends r.a.PureComponent{constructor(e){super(e),s()(this,"handleImageLoaded",()=>{this.setState({imageStatus:!0})}),s()(this,"getSizes",()=>{const{visualizationType:e,listingType:t}=this.props;return"grid"===e?"(min-width: 1280px) 15vw, (min-width: 1024px) 20vw, (min-width: 960px) 25vw, (min-width: 540px) 25vw, (min-width: 320px) 30vw, 35vw":"list"===e?"(min-width: 1280px) 20vw, (min-width: 1024px) 20vw, (min-width: 960px) 25vw, (min-width: 540px) 25vw, (min-width: 320px) 25vw, 35vw":"reProjects"===t?null:"(min-width: 1280px) 100vw, (min-width: 1024px) 20vw, (min-width: 960px) 25vw, (min-width: 540px) 25vw, (min-width: 320px) 30vw, 35vw"}),s()(this,"itemImageComponent",(e,t,i,a)=>s=>{let{inView:n,ref:o}=s;return r.a.createElement("figure",{ref:o,className:v()(c.a.itemImage,c.a[i],t),"data-aut-id":a},r.a.createElement(u,{loaded:this.state.imageStatus},n||this.state.imageStatus?e:null),r.a.createElement("noscript",null,e))}),this.state={imageStatus:!1,src:""}}render(){const{image:e,defaultSize:t,friendsInCommon:i,alt:a,visualizationType:s,"data-aut-id":n,listingType:o}=this.props,l=e.url&&e.url.includes(".akamaized.net"),d=i?w["icon-Friends"]+" "+w.panameraIcons:"";let m,p,u;const g=this.getSizes();l?(p=e.url+";"+t,m=e.url+";s=100x200;q="+f.f+" 100w,\n                    "+e.url+";s=200x400;q="+f.f+" 200w,\n                    "+e.url+";s=300x600;q="+f.f+" 300w,\n                    "+e.url+";s=400x800;q="+f.f+" 400w,\n                    "+e.url+";s=600x1200;q="+f.f+" 600w"):p=e.url;const b=e.width>e.height;"big"===s&&(u=b?c.a.bigWidth:c.a.bigHeight),u="list"===s?b?c.a.listWidth:c.a.listHeight:b?c.a.width:c.a.height;const E=r.a.createElement("img",{src:p,alt:a,sizes:g,srcSet:m,className:v()(u,{[c.a.projectImage]:"reProjects"===o}),onLoad:this.handleImageLoaded});return r.a.createElement(h.a,{rootMargin:"600px"},this.itemImageComponent(E,d,s,n))}}s()(b,"defaultProps",{defaultSize:"s=300x0",friendsInCommon:!1,alt:"",listingType:"items","data-aut-id":"itemImage"});t.a=b},938:function(e,t,i){"use strict";var a=i(3),s=i.n(a),n=i(0),r=i.n(n),o=i(39),c=i(83),l=i(836),d=i(2),m=i(937),p=i(23),u=i(53),h=i.n(u),g=i(12),v=i(821),f=i(853),w=i(73),b=i(56),E=(i(7),i(183),i(182),i(817),i(815)),_=i(43),I=i(15),y=i(299),k=i(61),O=i(850),C=i(301);const T=e=>{let{item:t,isFavourite:i,addFavourite:a,removeFavourite:s,setLoginModalState:o,track:c,trackOrigin:l,className:d}=e;const m=Object(n.useCallback)(()=>{const e=I.a.getUser();if(e){const n=Object.assign({origin:l,select_from:Object(O.d)(l)},Object(O.b)(t));i?(c("social_tap_unlike",n),s(e.id)):(c("social_tap_like",n),a(e.id))}else o({state:!0,redirectTo:"",trackProps:{},entryPoint:2,callback:m})},[t,i,a,s,o,c,l]);return r.a.createElement("span",{className:d},r.a.createElement(E.a,{name:"Favourite",icon:i?"favoriteOn":"favoriteOff",color:"blackText",animation:!1,onClick:m}))};T.defaultProps={trackOrigin:"",className:""};var N=Object(o.compose)(w.a,Object(_.b)((e,t)=>({isFavourite:Object(k.a)(e,t.item.id),trackOrigin:e.track.origin}),(e,t)=>{let{item:i}=t;return{addFavourite:t=>e(Object(y.a)(t,parseInt(i.id,10))),removeFavourite:t=>e(Object(y.i)(t,parseInt(i.id,10))),setLoginModalState:t=>e(Object(C.a)(t))}}))(T),j=i(932),S=i.n(j),x=i(296),L=i(26),R=i(54),M=i(78),A=i(881),F=(i(64),i(58),i(33),i(57)),P=i.n(F),z=i(65),V=i.n(z);var H=(e,t)=>i=>{class a extends r.a.PureComponent{constructor(i){super(i),s()(this,"containsOverlayHash",e=>this.props.location.hash.includes(e)),s()(this,"getLocationUrl",()=>{const e=Object.assign({},this.props.location.query);return this.props.location.pathname+"?"+Object(d.k)(e)+this.props.location.hash}),s()(this,"openModal",()=>{const e=this.getLocationUrl();let t=""+e;e.includes(this.overlayHash)||(t=""+e+this.overlayHash),this.props.router.push(t)}),s()(this,"openOverlay",()=>{const i=this.getLocationUrl();t&&!i.includes(e)?i.includes(t)?this.props.router.push(i+"-"+this.overlayHash):this.props.router.push(""+i+t+"-"+this.overlayHash):t||this.openModal()}),s()(this,"closeModal",()=>{let t=this.getLocationUrl();this.containsOverlayHash(e)&&(t=t.split("#")[0],this.props.router.replace(t))}),this.overlayHash=e}componentDidMount(){this.containsOverlayHash(this.overlayHash)&&this.openOverlay()}render(){return r.a.createElement(i,P()({},this.props,{openModal:this.openModal,openOverlay:this.openOverlay,closeModal:this.closeModal,containsOverlayHash:this.containsOverlayHash}))}}const n=Object(c.withRouter)(a);return n.displayName="withBackButtonHandling("+(i.displayName||i.name)+")",V()(n,i)},U=i(186);const{icons:D}=x.a;class B extends r.a.PureComponent{constructor(e){let{item:t,config:i}=e;super(),s()(this,"isVisible",e=>{if(this.props.enabledRealImpressions&&e){const{item:e}=this.props,{id:t,title:i,user_id:a,monetizationInfo:s,spell:n,inspection_info:r}=e,o=!!(s&&!Object(g.c)(s.currentProduct)||e.package&&(e.package.id||e.package.name)),{id:c=0}=n||{},l={id:t,title:i,user_id:a,isFeatured:o,spell_id:c,isInspected:!(!r||!r.inspection_id)};this.props.onView(l)}}),s()(this,"onClick",()=>{this.props.onItemClick(this.props.item)}),s()(this,"handleTrustTagTap",e=>{e.stopPropagation(),this.props.shouldOpenTrustTagBottomSheet&&this.props.openModal()}),this.property={slug:t&&Object(d.e)(t.id,t.title),image:t&&t.images&&t.images[0]||{},price:t&&t.price&&t.price.value?t.price.value.display:"",display:t&&t.status&&t.status.display,monetizerEnabled:i.get("monetizer").enabled,date:Object(v.f)(t.display_date||t.created_at_first||t.created_at,void 0,{suppressHydrationWarning:!0})};const a=i.get("adpvAuto");this.carInspectedIconUri=a&&a.carInspectedIconUri}getDefaultSize(){return{list:"s=272x0",grid:"s=272x0",big:"s=644x0"}[this.props.visualizationType]}renderStatus(e){const{type:t}=this.props;return"rejected"!==e&&"modify"!==e||"private"!==t?"deleted"===e&&"private"===t?{statusClass:S.a.deleted,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"deleted"}))}:"pending"===e&&"private"===t?{statusClass:S.a.pending,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"pending"}))}:"sold"===e?{statusClass:S.a.sold,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"sold"}))}:"outdated"===e&&"private"===t?{statusClass:S.a.outdated,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"outdated"}))}:"hot"===e?{statusClass:S.a.hot,status:r.a.createElement("label",{className:D["icon-Hot"]+" "+D.panameraIcons},r.a.createElement(p.FormattedMessage,{id:"hot"}))}:"new"===e?{statusClass:S.a.new,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"new"}))}:{}:{statusClass:S.a.rejected,status:r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"rejected"}))}}getLinkToProp(){const{item:e,listingType:t,isAdSuggested:i,source:a,chosenOption:s="null",trackerOrigins:n,location:r}=this.props,{slug:o}=this.property,c={isAdSuggested:i,source:a};if(a===M.r.RELATED){const{id:t,scoreFactor:i="null"}=e;c.relatedAdTracking={impressions:[{adId:t,scoreFactor:i}],chosen_option:s,origin:n.ITEM_PAGE}}return c.featuredAdTracking={chosen_option:s},r&&r.state&&r.state.fromBundleResultset&&(c.fromBundleResultset=r.state.fromBundleResultset),{pathname:t===A.b.RE_PORJECTS?Object(d.b)({base:"/project/"+e.id+"-"+Object(L.h)(e.name)+"-"+Object(L.h)(e.locations.cityLabel)}):o,state:c}}render(){const{item:e,friendsInCommon:t,showStatistics:i,listingType:a,visualizationType:s,getListingDescription:n,tag:o,showInspectionTag:d}=this.props,{title:u,favorites:v,views:w,monetizationInfo:b,package:E,main_info:_}=e,{image:I,price:y,display:k,date:O}=this.property,C=this.getDefaultSize(),T=Object(f.a)(e);let{statusClass:j,status:x}=this.renderStatus(k);const L=e&&e.inspection_info&&e.inspection_info.inspection_id&&(!e.inspection_info.consent||e.inspection_info.consent===M.i.APPROVED);return(E&&(E.id||E.name)||b&&!Object(g.c)(b)&&b.currentProduct)&&(j=S.a.monetizer,x=r.a.createElement("label",null,r.a.createElement(p.FormattedMessage,{id:"listing_ad_featured_label"}))),r.a.createElement(l.a,{tag:o,"data-aut-id":"itemBox",onChange:this.isVisible,className:h()(S.a[this.props.visualizationType+"ItemCard"],this.props.className)},r.a.createElement(c.Link,{to:this.getLinkToProp(),className:j,onClick:this.onClick},I&&r.a.createElement(m.a,{image:I,friendsInCommon:t,defaultSize:C,alt:u,visualizationType:s,listingType:a}),n(e),a===A.b.ITEMS&&r.a.createElement("div",{className:S.a.resume},x&&r.a.createElement("div",{className:S.a.status},x),y&&r.a.createElement("span",{className:S.a.price,"data-aut-id":"itemPrice"},y),_&&r.a.createElement("span",{className:S.a.details,"data-aut-id":"itemDetails"},_),u&&r.a.createElement("span",{className:h()(S.a.title,{[S.a.mainTitle]:!y&&!_}),"data-aut-id":"itemTitle"},u),r.a.createElement("div",{className:S.a.bottomCardInfo},T&&r.a.createElement("span",{className:S.a.location,"data-aut-id":"item-location"},T),O&&r.a.createElement("span",{className:S.a.date},O)),i&&r.a.createElement("div",{className:S.a.statistics},!Object(g.c)(v)&&r.a.createElement("div",{className:S.a.favorites},r.a.createElement("i",{className:D.panameraIcons+" "+D["icon-FavoriteOn"]}),r.a.createElement("span",null,v.count)),null!==w&&r.a.createElement("div",{className:S.a.views},r.a.createElement("i",{className:D.panameraIcons+" "+D["icon-View"]}),r.a.createElement("span",null,w))))),a===A.b.ITEMS&&r.a.createElement(N,{item:e,className:S.a.favIcon}),d&&a===A.b.ITEMS&&L&&this.carInspectedIconUri&&r.a.createElement("div",{className:h()(S.a[this.props.visualizationType+"ViewInspectedIcon"]),onClick:this.handleTrustTagTap},r.a.createElement(U.a,{fileName:this.carInspectedIconUri,fileSize:R.k,className:S.a.carInspectedImage,types:R.i})))}}s()(B,"defaultProps",{item:{},className:"",type:"public",onView:()=>{},showStatistics:!1,friendsInCommon:!1,visualizationType:"grid",enabledRealImpressions:!1,listingType:A.b.ITEMS,onItemClick:()=>{},getListingDescription:()=>{},tag:"li",isAdSuggested:!1,showInspectionTag:!1,shouldOpenTrustTagBottomSheet:!1,chosenOption:null,trackerOrigins:{}});t.a=Object(o.compose)(b.a,w.a,c.withRouter,H(A.c))(B)},959:function(e,t,i){e.exports={itemImage:"_2grx4",bigHeight:"fgUQt",bigWidth:"_2tYPO",listHeight:"_1iGOp",listWidth:"_1ABkm",height:"_3Kg_w",width:"_1N079",projectImage:"_1vZ1k",myAds:"_3Km4V"}},961:function(e,t,i){e.exports={imagePlaceholder:"_1czk1",image:"_1VzGN",animatedBackground:"_1VX6L",placeHolderShimmer:"_30iKX"}}}]);
//# sourceMappingURL=desktop-related-ads.olx.f54d9982b2d7b125bfef.js.map